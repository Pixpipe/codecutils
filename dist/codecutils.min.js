// Build date: 2017-096T14:24:53

/*
* Author    Jonathan Lurie - http://me.jonahanlurie.fr
* License   MIT
* Link      https://github.com/jonathanlurie/pixbincodec
* Lab       MCIN - http://mcin.ca/ - Montreal Neurological Institute
*/
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,g,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[g]=c.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(e){var g=0;return $jscomp.iteratorPrototype(function(){return g<e.length?{done:!1,value:e[g++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(e){$jscomp.initSymbolIterator();e={next:e};e[$jscomp.global.Symbol.iterator]=function(){return this};return e};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(e,g){$jscomp.initSymbolIterator();e instanceof String&&(e+="");var c=0,a={next:function(){if(c<e.length){var b=c++;return{value:g(b,e[b]),done:!1}}a.next=function(){return{done:!0,value:void 0}};return a.next()}};a[Symbol.iterator]=function(){return a};return a};
$jscomp.polyfill=function(e,g,c,a){if(g){c=$jscomp.global;e=e.split(".");for(a=0;a<e.length-1;a++){var b=e[a];b in c||(c[b]={});c=c[b]}e=e[e.length-1];a=c[e];g=g(a);g!=a&&null!=g&&$jscomp.defineProperty(c,e,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Array.prototype.keys",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6-impl","es3");
(function(e,g){"object"===typeof exports&&"undefined"!==typeof module?g(exports):"function"===typeof define&&define.amd?define(["exports"],g):g(e.codecutils=e.codecutils||{})})(this,function(e){var g=function(a,b){return b={exports:{}},a(b,b.exports),b.exports}(function(a){function b(a){this.value=a}function d(a,b,d){var l=[],c=[],v=!0;return function x(a){function h(){if("object"===typeof f.node&&null!==f.node){f.keys&&f.node_===f.node||(f.keys=k(f.node));f.isLeaf=0==f.keys.length;for(var b=0;b<
c.length;b++)if(c[b].node_===a){f.circular=c[b];break}}else f.isLeaf=!0,f.keys=null;f.notLeaf=!f.isLeaf;f.notRoot=!f.isRoot}var t,u,g,m,n=!0,f={node:d?e(a):a,node_:a,path:[].concat(l),parent:c[c.length-1],parents:c,key:l.slice(-1)[0],isRoot:0===l.length,level:l.length,circular:null,update:function(a,b){f.isRoot||(f.parent.node[f.key]=a);f.node=a;b&&(n=!1)},"delete":function(a){delete f.parent.node[f.key];a&&(n=!1)},remove:function(a){p(f.parent.node)?f.parent.node.splice(f.key,1):delete f.parent.node[f.key];
a&&(n=!1)},keys:null,before:function(a){t=a},after:function(a){u=a},pre:function(a){g=a},post:function(a){m=a},stop:function(){v=!1},block:function(){n=!1}};if(!v)return f;h();var w=b.call(f,f.node);void 0!==w&&f.update&&f.update(w);t&&t.call(f,f.node);if(!n)return f;"object"!=typeof f.node||null===f.node||f.circular||(c.push(f),h(),q(f.keys,function(a,b){l.push(a);g&&g.call(f,f.node[a],a);var c=x(f.node[a]);d&&r.call(f.node,a)&&(f.node[a]=c.node);c.isLast=b==f.keys.length-1;c.isFirst=0==b;m&&m.call(f,
c);l.pop()}),c.pop());u&&u.call(f,f.node);return f}(a).node}function e(a){if("object"===typeof a&&null!==a){var b;if(p(a))b=[];else if("[object Date]"===c(a))b=new Date(a.getTime?a.getTime():a);else if("[object RegExp]"===c(a))b=new RegExp(a);else if("[object Error]"===c(a))b={message:a.message};else if("[object Boolean]"===c(a))b=new Boolean(a);else if("[object Number]"===c(a))b=new Number(a);else if("[object String]"===c(a))b=new String(a);else if(Object.create&&Object.getPrototypeOf)b=Object.create(Object.getPrototypeOf(a));
else if(a.constructor===Object)b={};else{var d=function(){};d.prototype=a.constructor&&a.constructor.prototype||a.__proto__||{};b=new d}q(k(a),function(d){b[d]=a[d]});return b}return a}function c(a){return Object.prototype.toString.call(a)}var g=a.exports=function(a){return new b(a)};b.prototype.get=function(a){for(var b=this.value,d=0;d<a.length;d++){var c=a[d];if(!b||!r.call(b,c)){b=void 0;break}b=b[c]}return b};b.prototype.has=function(a){for(var b=this.value,d=0;d<a.length;d++){var c=a[d];if(!b||
!r.call(b,c))return!1;b=b[c]}return!0};b.prototype.set=function(a,b){for(var d=this.value,c=0;c<a.length-1;c++){var e=a[c];r.call(d,e)||(d[e]={});d=d[e]}return d[a[c]]=b};b.prototype.map=function(a){return d(this.value,a,!0)};b.prototype.forEach=function(a){return this.value=d(this.value,a,!1)};b.prototype.reduce=function(a,b){var d=1===arguments.length,c=d?this.value:b;this.forEach(function(b){this.isRoot&&d||(c=a.call(this,c,b))});return c};b.prototype.paths=function(){var a=[];this.forEach(function(b){a.push(this.path)});
return a};b.prototype.nodes=function(){var a=[];this.forEach(function(b){a.push(this.node)});return a};b.prototype.clone=function(){var a=[],b=[];return function m(d){for(var c=0;c<a.length;c++)if(a[c]===d)return b[c];if("object"===typeof d&&null!==d){var h=e(d);a.push(d);b.push(h);q(k(d),function(a){h[a]=m(d[a])});a.pop();b.pop();return h}return d}(this.value)};var k=Object.keys||function(a){var b=[],d;for(d in a)b.push(d);return b},p=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},
q=function(a,b){if(a.forEach)return a.forEach(b);for(var d=0;d<a.length;d++)b(a[d],d,a)};q(k(b.prototype),function(a){g[a]=function(d){var c=[].slice.call(arguments,1),e=new b(d);return e[a].apply(e,c)}});var r=Object.hasOwnProperty||function(a,b){return b in a}}),c=function(){};c.isPlatformLittleEndian=function(){var a=new Uint32Array([305419896]);return 18!=(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))[0]};c.arrayBufferToUnicode=function(a){a=new Uint8Array(a);for(var b=[],d=0,c=0;d<a.length;){var e=
a[d++];if(128>e)b[c++]=String.fromCharCode(e);else if(191<e&&224>e){var g=a[d++];b[c++]=String.fromCharCode((e&31)<<6|g&63)}else if(239<e&&365>e){var g=a[d++],k=a[d++],p=a[d++],e=((e&7)<<18|(g&63)<<12|(k&63)<<6|p&63)-65536;b[c++]=String.fromCharCode(55296+(e>>10));b[c++]=String.fromCharCode(56320+(e&1023))}else g=a[d++],k=a[d++],b[c++]=String.fromCharCode((e&15)<<12|(g&63)<<6|k&63)}return b.join("")};c.unicodeToArrayBuffer=function(a){for(var b=[],d=0,c=0;c<a.length;c++){var e=a.charCodeAt(c);128>
e?b[d++]=e:(2048>e?b[d++]=e>>6|192:(55296==(e&64512)&&c+1<a.length&&56320==(a.charCodeAt(c+1)&64512)?(e=65536+((e&1023)<<10)+(a.charCodeAt(++c)&1023),b[d++]=e>>18|240,b[d++]=e>>12&63|128):b[d++]=e>>12|224,b[d++]=e>>6&63|128),b[d++]=e&63|128)}return(new Uint8Array(b)).buffer};c.arrayBufferToString8=function(a){return String.fromCharCode.apply(null,new Uint8Array(a))};c.string8ToArrayBuffer=function(a){for(var b=new ArrayBuffer(a.length),d=new Uint8Array(b),c=0;c<a.length;c++)d[c]=a.charCodeAt(c);return b};
c.setString8InBuffer=function(a,b,d){d=void 0===d?0:d;if(0>d)console.warn("The byte offset cannot be negative.");else if(b&&b instanceof ArrayBuffer)if(a.length+d>b.byteLength)console.warn("The string is too long to be writen in this buffer.");else{b=new Uint8Array(b);for(var c=0;c<a.length;c++)b[c+d]=a.charCodeAt(c)}else console.warn("The buffer must be a valid ArrayBuffer.")};c.getString8FromBuffer=function(a,b,d){d=void 0===d?0:d;return 0>d?(console.warn("The byte offset cannot be negative."),
null):a&&a instanceof ArrayBuffer?b+d>a.byteLength?(console.warn("The string is too long to be writen in this buffer."),null):String.fromCharCode.apply(null,new Uint8Array(a,d,b)):(console.warn("The buffer must be a valid ArrayBuffer."),null)};c.objectToArrayBuffer=function(a){var b=null;a=c.makeSerializeFriendly(a);try{var d=JSON.stringify(a),b=c.unicodeToArrayBuffer(d)}catch(h){console.warn(h)}return b};c.ArrayBufferToObject=function(a){var b=null;try{var d=c.arrayBufferToUnicode(a),b=JSON.parse(d)}catch(h){console.warn(h)}return b};
c.isTypedArray=function(a){return a instanceof Int8Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array};c.mergeBuffers=function(a){for(var b=0,d=0;d<a.length;d++)b+=a[d].byteLength;for(var b=new Uint8Array(b),c=0,d=0;d<a.length;d++)b.set(new Uint8Array(a[d]),c),c+=a[d].byteLength;return b.buffer};c.getGlobalObject=function(){var a=null;
try{a=window}catch(b){try{a=GLOBAL}catch(d){return console.warn("You are not in a Javascript environment?? Weird."),null}}return a};c.extractTypedArray=function(a,b,d,c){if(!a)return console.warn("Input Buffer is null."),null;if(!(a instanceof ArrayBuffer))return console.warn("Buffer must be of type ArrayBuffer"),null;if(0>=c)return console.warn("The number of elements to fetch must be greater than 0"),null;if(0>b)return console.warn("The byte offset must be possitive or 0"),null;if(b>=a.byteLength)return console.warn("The offset cannot be larger than the size of the buffer."),
null;if(d instanceof Function&&!("BYTES_PER_ELEMENT"in d))return console.warn("ArrayType must be a typed array constructor function."),null;if(d.BYTES_PER_ELEMENT*c+b>a.byteLength)console.warn("The requested number of elements is too large for this buffer");else return a=a.slice(b,b+c*d.BYTES_PER_ELEMENT),new d(a)};c.getTypedArrayInfo=function(a){var b=null,d=!1;a instanceof Int8Array?(b="int",d=!1):a instanceof Uint8Array?(b="int",d=!0):a instanceof Uint8ClampedArray?(b="int",d=!0):a instanceof Int16Array?
(b="int",d=!1):a instanceof Uint16Array?(b="int",d=!0):a instanceof Int32Array?(b="int",d=!1):a instanceof Uint32Array?(b="int",d=!0):a instanceof Float32Array?(b="float",d=!1):a instanceof Float64Array&&(b="float",d=!1);return{type:b,signed:d,bytesPerElements:a.BYTES_PER_ELEMENT,byteLength:a.byteLength,length:a.length}};c.howManyTypedArrayAttributes=function(a){var b=0;g(a).forEach(function(a){b+=c.isTypedArray(a)});return b};c.hasCircularReference=function(a){var b=!1;g(a).forEach(function(a){this.circular&&
(b=!0)});return b};c.removeCircularReference=function(a){var b=!1;a=g(a).map(function(a){this.circular&&(this.remove(),b=!0)});return b?a:null};c.replaceTypedArrayAttributesByArrays=function(a){var b=!1;a=g(a).map(function(a){if(c.isTypedArray(a)){for(var d=Object.keys(a).length,e=Array(d),g=0;g<d;g++)e[g]=a[g];this.update(e);b=!0}});return b?a:null};c.makeSerializeFriendly=function(a){var b=c.removeCircularReference(a);b&&(a=b);(b=c.replaceTypedArrayAttributesByArrays(a))&&(a=b);return a};e.CodecUtils=
c;Object.defineProperty(e,"__esModule",{value:!0})});
